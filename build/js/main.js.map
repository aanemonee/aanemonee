{"version":3,"sources":["main.js"],"names":["userName","introPageText","document","querySelector","introPage","navMenu","bgLaptop","bgLight","introText","skilsPageSlider","skilsPageLine","skillsPageItems","querySelectorAll","aboutPageSlider","headerContent","fn","timeout","DEBOUNCE","args","clearTimeout","setTimeout","apply","_this","ms","laptopAnimation","el","box","fnCall","window","innerWidth","addEventListener","e","offsetX","clientX","clientY","innerHeight","setAttribute","offsetY","animatedElem","element","elemParent","localStorage","getItem","innerText","concat","sendName","elem","clearName","value","nameValue","clearLocalStorage","elemHeightChanger","a","b","offsetHeight","style","height","elLine","result","count","sliderWidth","clear","sliderItems","elItems","sliderLine","init","slider","offsetWidth","width","length","forEach","item","CustomSlider","next","prev","slideritem","rollSlider","mainSlider","aboutPageLine","aboutPageItems","togglePopup","classList","toggle","SKILLSLIDER","skillsPageGridOrSlider","add","event","target","dataset","step","preventDefault","behavior","block","ROLE","wayTo","pageYOffset","currentScrollPosition","prevScrollPosition","top","aboutPageScrollPos","getBoundingClientRect","remove"],"mappings":"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","file":"main.js","sourcesContent":["/* eslint-disable consistent-return */\r\n/* eslint-disable no-restricted-globals */\r\nconst introPageText = document.querySelector('.intro-page__text-greeting');\r\nconst introPage = document.querySelector('.intro-page');\r\nconst navMenu = document.querySelector('.navigation-mobile');\r\nconst bgLaptop = document.querySelector('.secondary-bg');\r\nconst bgLight = document.querySelector('.light-bg');\r\nconst introText = document.querySelector('.intro-page__text');\r\nconst skilsPageSlider = document.querySelector('.skills-page__content');\r\nconst skilsPageLine = document.querySelector('.skills-page__content-box');\r\nconst skillsPageItems = document.querySelectorAll('.skills-page__content-item');\r\nconst aboutPageSlider = document.querySelector('.slider');\r\nconst aboutPageLine = document.querySelector('.slider-line');\r\nconst aboutPageItems = document.querySelectorAll('.slider-item');\r\nconst headerContent = document.querySelector('.site-header__content');\r\n\r\n// forces a fn function to wait certain amount of time before running again\r\nconst DEBOUNCE = (fn, ms) => {\r\n  let timeout;\r\n  return function (...args) {\r\n    const fnCall = () => { fn.apply(this, args); };\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(fnCall, ms);\r\n  };\r\n};\r\n\r\n// laptop animation\r\nconst laptopAnimation = (el, box) => {\r\n  const animatedElem = el;\r\n  const elemParent = box;\r\n  (elemParent) && (window.innerWidth > 1031) && elemParent.addEventListener('mousemove', DEBOUNCE((e) => {\r\n    const offsetX = ((e.clientX / window.innerWidth) * 30) - 15;\r\n    const offsetY = ((e.clientY / window.innerHeight) * 10) - 5;\r\n    const bgMove = animatedElem.setAttribute('style', `background-position: ${offsetX}px ${offsetY}px;`);\r\n    return bgMove;\r\n  }, 10));\r\n};\r\n// greeting page inner text functions\r\n// changing greeting text to welcome\r\nconst clearName = (element) => {\r\n  const elem = element;\r\n  elem.innerText = 'Welcome';\r\n};\r\n// update greeting text onload\r\nif (localStorage.getItem('name') !== null) {\r\n  const userName = localStorage.getItem('name');\r\n  introPageText.innerText = `Welcome, ${userName}!`;\r\n}\r\n// changing greeting text and saves nameValue to localStorage\r\nconst sendName = (elem) => {\r\n  const element = elem;\r\n  const nameValue = document.querySelector('.svelte-input-name').value;\r\n  element.innerText = `Welcome, ${nameValue}! Now reload page`;\r\n  localStorage.setItem('name', nameValue);\r\n};\r\n// clear userName from localStorage\r\nconst clearLocalStorage = () => {\r\n  localStorage.clear();\r\n};\r\n\r\n// changes header menu height on menu click\r\n// switch height of elem between a and b values\r\nconst elemHeightChanger = (elem, a, b) => {\r\n  const el = elem;\r\n  const result = (el.offsetHeight === b) ? el.style.height = `${a}px` : el.style.height = `${b}px`;\r\n\r\n  return result;\r\n};\r\n/* simple custom slider function\r\n   methods next\\prev for switching between blocks\\images\r\n */\r\nconst CustomSlider = (el, elLine, elItems) => {\r\n  const slider = el;\r\n  const sliderItems = elItems;\r\n  const sliderLine = elLine;\r\n  let count = 0;\r\n  let sliderWidth = 0;\r\n\r\n  // rolling slider to left/right\r\n  const rollSlider = () => { sliderLine.style.transform = `translate(-${count * sliderWidth}px)`; };\r\n\r\n  // recalculates width of sliderLine and sliderItems depends on slider width\r\n  const init = () => {\r\n    sliderWidth = slider.offsetWidth;\r\n    sliderLine.style.width = `${sliderWidth * sliderItems.length}px`;\r\n    sliderItems.forEach((item) => {\r\n      const slideritem = item;\r\n      slideritem.style.width = `${sliderWidth}px`;\r\n      slideritem.style.height = 'auto';\r\n    });\r\n  };\r\n  // resizing slider line and itens width on resizing window\r\n  init();\r\n  window.addEventListener('resize', DEBOUNCE(init, 200));\r\n\r\n  const next = () => {\r\n    count += 1;\r\n    if (count >= sliderItems.length) {\r\n      count = 0;\r\n    }\r\n    rollSlider();\r\n  };\r\n\r\n  const prev = () => {\r\n    count -= 1;\r\n    if (count < 0) {\r\n      count = sliderItems.length - 1;\r\n    }\r\n    rollSlider();\r\n  };\r\n\r\n  return {\r\n    next,\r\n    prev,\r\n  };\r\n};\r\n\r\n// creating instanse\r\nconst mainSlider = new CustomSlider(aboutPageSlider, aboutPageLine, aboutPageItems);\r\n\r\n// mobile nav menu open\\close\r\nconst togglePopup = (elem) => {\r\n  const el = elem;\r\n  el.classList.toggle('visible-popup');\r\n};\r\n\r\nlet SKILLSLIDER = {};\r\n//  function switches grid and slider on skills-page\r\nfunction skillsPageGridOrSlider() {\r\n  if (window.innerWidth > 1031) return false;\r\n  skilsPageSlider.classList.add('skills-page__slider');\r\n  skilsPageLine.classList.add('skills-page__slider-line');\r\n  skillsPageItems.forEach((elem) => { elem.classList.add('skills-page__slider-item'); });\r\n  SKILLSLIDER = new CustomSlider(skilsPageSlider, skilsPageLine, skillsPageItems);\r\n  return SKILLSLIDER;\r\n}\r\n// global event listener\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  skillsPageGridOrSlider(skilsPageSlider, skilsPageLine, skillsPageItems);\r\n  document.addEventListener('click', () => {\r\n    const ROLE = event.target.dataset.role;\r\n\r\n    if (!ROLE) return false;\r\n    const { step } = event.target.dataset;\r\n    const wayTo = document.querySelector(`#${step}`);\r\n    event.preventDefault();\r\n    // eslint-disable-next-line default-case\r\n    switch (ROLE) {\r\n      case 'mobile-main-nav':\r\n        DEBOUNCE(elemHeightChanger(headerContent, 200, 50), 1000);\r\n        DEBOUNCE(togglePopup(navMenu), 1000);\r\n        break;\r\n      case 'link':\r\n        wayTo.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n        break;\r\n      case 'slider-next':\r\n        mainSlider.next();\r\n        break;\r\n      case 'slider-prev':\r\n        mainSlider.prev();\r\n        break;\r\n      case 'skills-slider-next':\r\n        SKILLSLIDER.next();\r\n        break;\r\n      case 'skills-slider-prev':\r\n        SKILLSLIDER.prev();\r\n        break;\r\n      case 'forgotName':\r\n        clearLocalStorage();\r\n        clearName(introPageText);\r\n        break;\r\n      case 'setName':\r\n        sendName(introPageText);\r\n        break;\r\n    }\r\n  });\r\n\r\n  // function hides menu on scroll down\r\n  let prevScrollPosition = window.pageYOffset;\r\n  window.onscroll = DEBOUNCE(() => {\r\n    const currentScrollPosition = window.pageYOffset;\r\n\r\n    // hide mobile navigation menu on scroll down\r\n    const isMenuVisible = (el) => {\r\n      const menuStatus = (el.offsetHeight === 90)\r\n        ? (togglePopup(navMenu), elemHeightChanger(headerContent, 200, 50))\r\n        : false;\r\n      return menuStatus;\r\n    };\r\n\r\n    if (prevScrollPosition > currentScrollPosition) {\r\n      document.querySelector('.site-header').style.top = '0';\r\n    } else {\r\n      isMenuVisible(navMenu);\r\n      document.querySelector('.site-header').style.top = '-50px';\r\n    }\r\n    prevScrollPosition = currentScrollPosition;\r\n  }, 50);\r\n\r\n  // turns off light and reduces opacity\r\n  document.addEventListener('scroll', DEBOUNCE(() => {\r\n    const aboutPage = document.querySelector('.about-page');\r\n\r\n    const aboutPageScrollPos = aboutPage.getBoundingClientRect();\r\n\r\n    if (window.pageYOffset > aboutPageScrollPos.top) {\r\n      bgLight.classList.add('hidden');\r\n      introText.classList.add('low-opacity');\r\n    } else if (window.pageYOffset < aboutPageScrollPos.top) {\r\n      bgLight.classList.remove('hidden');\r\n      introText.classList.remove('low-opacity');\r\n    }\r\n  }, 50));\r\n  laptopAnimation(bgLaptop, introPage);\r\n});\r\n"]}