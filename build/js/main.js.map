{"version":3,"sources":["main.js"],"names":["userName","introPageText","document","querySelector","introPage","navMenu","bgLaptop","bgLight","introText","skilsPageSlider","skilsPageLine","skillsPageItems","querySelectorAll","aboutPageSlider","headerContent","element","clearName","localStorage","getItem","innerText","concat","elem","nameValue","value","setItem","sendName","ms","timeout","_this","this","_len","arguments","length","args","Array","_key","DEBOUNCE","setTimeout","fn","apply","elemHeightChanger","a","b","el","offsetHeight","style","height","fnCall","rollSlider","sliderLine","transform","count","sliderWidth","slider","sliderItems","elItems","elLine","init","offsetWidth","width","forEach","item","window","next","slideritem","mainSlider","CustomSlider","aboutPageLine","aboutPageItems","togglePopup","classList","toggle","prev","toggleLight","lightOnOpacity","bgAnimation","box","animatedElem","innerWidth","addEventListener","e","offsetX","clientX","clientY","innerHeight","SKILLSLIDER","skillsPageGridOrSlider","add","clearLocalStorage","clear","elemParent","ROLE","event","target","dataset","role","step","bgMove","preventDefault","scrollIntoView","wayTo","prevScrollPosition","pageYOffset","currentScrollPosition","top","aboutPageLol","getBoundingClientRect","remove"],"mappings":"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","file":"main.js","sourcesContent":["/* eslint-disable consistent-return */\r\n/* eslint-disable no-restricted-globals */\r\nconst introPageText = document.querySelector('.intro-page__text-greeting');\r\nconst introPage = document.querySelector('.intro-page');\r\nconst navMenu = document.querySelector('.navigation-mobile');\r\nconst bgLaptop = document.querySelector('.secondary-bg');\r\nconst bgLight = document.querySelector('.light-bg');\r\nconst introText = document.querySelector('.intro-page__text');\r\nconst skilsPageSlider = document.querySelector('.skills-page__content');\r\nconst skilsPageLine = document.querySelector('.skills-page__content-box');\r\nconst skillsPageItems = document.querySelectorAll('.skills-page__content-item');\r\nconst aboutPageSlider = document.querySelector('.slider');\r\nconst aboutPageLine = document.querySelector('.slider-line');\r\nconst aboutPageItems = document.querySelectorAll('.slider-item');\r\nconst headerContent = document.querySelector('.site-header__content');\r\n\r\n// changing greeting text to welcome\r\nconst clearName = (element) => {\r\n  const elem = element;\r\n  elem.innerText = 'Welcome';\r\n};\r\n// update greeting text onload\r\nif (localStorage.getItem('name') !== null) {\r\n  const userName = localStorage.getItem('name');\r\n  introPageText.innerText = `Welcome, ${userName}!`;\r\n}\r\n// changing greeting text and saves nameValue to localStorage\r\nconst sendName = (elem) => {\r\n  const element = elem;\r\n  const nameValue = document.querySelector('.svelte-input-name').value;\r\n  element.innerText = `Welcome, ${nameValue}! Now reload page`;\r\n  localStorage.setItem('name', nameValue);\r\n};\r\n\r\n// forces a fn function to wait certain amount of time before running again\r\nconst DEBOUNCE = (fn, ms) => {\r\n  let timeout;\r\n  return function (...args) {\r\n    const fnCall = () => { fn.apply(this, args); };\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(fnCall, ms);\r\n  };\r\n};\r\n// switch height of elem between a and b values\r\nconst elemHeightChanger = (elem, a, b) => {\r\n  const el = elem;\r\n  const result = (el.offsetHeight === b) ? el.style.height = `${a}px` : el.style.height = `${b}px`;\r\n\r\n  return result;\r\n};\r\n/* simple custom slider constructor\r\n   methods next\\prev for switching between blocks\\images\r\n */\r\nconst CustomSlider = (el, elLine, elItems) => {\r\n  const slider = el;\r\n  const sliderItems = elItems;\r\n  const sliderLine = elLine;\r\n  let count = 0;\r\n  let sliderWidth = 0;\r\n\r\n  // rolling slider to left/right\r\n  const rollSlider = () => { sliderLine.style.transform = `translate(-${count * sliderWidth}px)`; };\r\n\r\n  // recalculates width of sliderLine and sliderItems depends on slider width\r\n  const init = () => {\r\n    sliderWidth = slider.offsetWidth;\r\n    sliderLine.style.width = `${sliderWidth * sliderItems.length}px`;\r\n    sliderItems.forEach((item) => {\r\n      const slideritem = item;\r\n      slideritem.style.width = `${sliderWidth}px`;\r\n      slideritem.style.height = 'auto';\r\n    });\r\n  };\r\n  // resizing slider line and itens width on resizing window\r\n  init();\r\n  window.addEventListener('resize', DEBOUNCE(init, 200));\r\n\r\n  const next = () => {\r\n    count += 1;\r\n    if (count >= sliderItems.length) {\r\n      count = 0;\r\n    }\r\n    rollSlider();\r\n  };\r\n\r\n  const prev = () => {\r\n    count -= 1;\r\n    if (count < 0) {\r\n      count = sliderItems.length - 1;\r\n    }\r\n    rollSlider();\r\n  };\r\n\r\n  return {\r\n    next,\r\n    prev,\r\n  };\r\n};\r\n\r\n// creating instanse\r\nconst mainSlider = new CustomSlider(aboutPageSlider, aboutPageLine, aboutPageItems);\r\n\r\nconst togglePopup = (elem) => {\r\n  const el = elem;\r\n  el.classList.toggle('visible-popup');\r\n};\r\nconst toggleLight = (el) => { el.classList.toggle('hidden'); };\r\nconst lightOnOpacity = (el) => { el.classList.toggle('low-opacity'); };\r\n\r\nconst bgAnimation = (el, box) => {\r\n  const animatedElem = el;\r\n  const elemParent = box;\r\n  // eslint-disable-next-line no-unused-expressions\r\n  (elemParent) && (window.innerWidth > 1031) && elemParent.addEventListener('mousemove', DEBOUNCE((e) => {\r\n    const offsetX = ((e.clientX / window.innerWidth) * 30) - 15;\r\n    const offsetY = ((e.clientY / window.innerHeight) * 10) - 5;\r\n    const bgMove = animatedElem.setAttribute('style', `background-position: ${offsetX}px ${offsetY}px;`);\r\n    return bgMove;\r\n  }, 10));\r\n};\r\nlet SKILLSLIDER = {};\r\n//  function switches grid and slider on skills-page\r\nfunction skillsPageGridOrSlider() {\r\n  if (window.innerWidth > 1031) return false;\r\n  skilsPageSlider.classList.add('skills-page__slider');\r\n  skilsPageLine.classList.add('skills-page__slider-line');\r\n  skillsPageItems.forEach((elem) => { elem.classList.add('skills-page__slider-item'); });\r\n  SKILLSLIDER = new CustomSlider(skilsPageSlider, skilsPageLine, skillsPageItems);\r\n  return SKILLSLIDER;\r\n}\r\nconst clearLocalStorage = () => {\r\n  localStorage.clear();\r\n};\r\n// global event listener\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  // eslint-disable-next-line no-undef\r\n  skillsPageGridOrSlider(skilsPageSlider, skilsPageLine, skillsPageItems);\r\n  // eslint-disable-next-line consistent-return\r\n  document.addEventListener('click', () => {\r\n    const ROLE = event.target.dataset.role;\r\n    const { step } = event.target.dataset;\r\n    const wayTo = document.querySelector(`#${step}`);\r\n\r\n    if (!ROLE) return false;\r\n    event.preventDefault();\r\n    // eslint-disable-next-line default-case\r\n    switch (ROLE) {\r\n      case 'mobile-main-nav':\r\n        DEBOUNCE(elemHeightChanger(headerContent, 200, 50), 1000);\r\n        DEBOUNCE(togglePopup(navMenu), 1000);\r\n        break;\r\n\r\n      case 'light-switcher':\r\n        toggleLight(bgLight);\r\n        lightOnOpacity(introText);\r\n        break;\r\n      case 'link':\r\n        wayTo.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n        break;\r\n      case 'slider-next':\r\n        mainSlider.next();\r\n        break;\r\n      case 'slider-prev':\r\n        mainSlider.prev();\r\n        break;\r\n      case 'skills-slider-next':\r\n        // eslint-disable-next-line no-undef\r\n        SKILLSLIDER.next();\r\n        break;\r\n      case 'skills-slider-prev':\r\n        // eslint-disable-next-line no-undef\r\n        SKILLSLIDER.prev();\r\n        break;\r\n      case 'forgotName':\r\n        clearLocalStorage();\r\n        clearName(introPageText);\r\n        break;\r\n      case 'setName':\r\n        sendName(introPageText);\r\n        break;\r\n    }\r\n  });\r\n\r\n  let prevScrollPosition = window.pageYOffset;\r\n  window.onscroll = DEBOUNCE(() => {\r\n    const currentScrollPosition = window.pageYOffset;\r\n    const isMenuVisible = (el) => {\r\n      const menuStatus = (el.offsetHeight === 90)\r\n        ? (togglePopup(navMenu), elemHeightChanger(headerContent, 200, 50))\r\n        : false;\r\n      return menuStatus;\r\n    };\r\n    if (prevScrollPosition > currentScrollPosition) {\r\n      document.querySelector('.site-header').style.top = '0';\r\n      // document.querySelector('.navigation-mobile').style.top = '0';\r\n    } else {\r\n      isMenuVisible(navMenu);\r\n      document.querySelector('.site-header').style.top = '-50px';\r\n      // document.querySelector('.navigation-mobile').style.top = `-${height(navMenu)}`;\r\n    }\r\n    prevScrollPosition = currentScrollPosition;\r\n  }, 50);\r\n  document.addEventListener('scroll', DEBOUNCE(() => {\r\n    //\r\n    const aboutPage = document.querySelector('.about-page');\r\n\r\n    const aboutPageLol = aboutPage.getBoundingClientRect();\r\n\r\n    if (window.pageYOffset > aboutPageLol.top) {\r\n      bgLight.classList.add('hidden');\r\n      introText.classList.add('low-opacity');\r\n    } else if (window.pageYOffset < aboutPageLol.top) {\r\n      bgLight.classList.remove('hidden');\r\n      introText.classList.remove('low-opacity');\r\n    }\r\n  }, 50));\r\n  bgAnimation(bgLaptop, introPage);\r\n});\r\n"]}