{"version":3,"sources":["main.js"],"names":["_smoothscrollPolyfill","_interopRequireDefault","require","introPageText","document","querySelector","introPage","navMenu","bgLaptop","bgLight","introText","skilsPageSlider","querySelectorAll","skilsPageLine","default","elem","sln","headerContent","element","clearName","getItem","innerText","userName","sendName","localStorage","value","nameValue","setItem","_this","this","_len","arguments","length","args","Array","_key","clearTimeout","timeout","setTimeout","fn","apply","ms","elemHeightChanger","a","b","el","offsetHeight","style","height","concat","CustomSlider","elLine","elItems","sliderLine","count","sliderWidth","result","slider","offsetWidth","width","sliderItems","forEach","item","slideritem","window","DEBOUNCE","init","rollSlider","next","MYSLIDER","sl","si","classList","toggle","toggleLight","lightOnOpacity","box","animatedElem","innerWidth","addEventListener","e","offsetX","clientX","clientY","innerHeight","setAttribute","offsetY","test","add","skillsPageItems","SKILLSLIDER","togglePopup","clearLocalStorage","clear","ROLE","event","target","dataset","role","step","bgAnimation","elemParent","preventDefault","bgMove","behavior","block","wayTo","onscroll","currentScrollPosition","pageYOffset","prevScrollPosition","top","scrollIntoView","aboutPageLol","getBoundingClientRect","remove"],"mappings":"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","file":"main.js","sourcesContent":["/* eslint-disable consistent-return */\r\n/* eslint-disable no-restricted-globals */\r\nimport smoothscroll from 'smoothscroll-polyfill';\r\n\r\nconst introPageText = document.querySelector('.intro-page__text-greeting');\r\nconst introPage = document.querySelector('.intro-page');\r\nconst navMenu = document.querySelector('.navigation-mobile');\r\nconst bgLaptop = document.querySelector('.secondary-bg');\r\nconst bgLight = document.querySelector('.light-bg');\r\nconst introText = document.querySelector('.intro-page__text');\r\nconst skilsPageSlider = document.querySelector('.skills-page__content');\r\nconst skilsPageLine = document.querySelector('.skills-page__content-box');\r\nconst skillsPageItems = document.querySelectorAll('.skills-page__content-item');\r\nconst sl = document.querySelector('.slider');\r\nconst sln = document.querySelector('.slider-line');\r\nconst si = document.querySelectorAll('.slider-item');\r\nconst headerContent = document.querySelector('.site-header__content');\r\n\r\nsmoothscroll();\r\nconst clearName = (element) => {\r\n  const elem = element;\r\n  elem.innerText = 'Welcome';\r\n};\r\n// update greeting text onload\r\nif (localStorage.getItem('name') !== null) {\r\n  const userName = localStorage.getItem('name');\r\n  introPageText.innerText = `Welcome, ${userName}!`;\r\n}\r\n\r\nconst sendName = (elem) => {\r\n  const element = elem;\r\n  const nameValue = document.querySelector('.svelte-input-name').value;\r\n  element.innerText = `Welcome, ${nameValue}! Now reload page`;\r\n  localStorage.setItem('name', nameValue);\r\n};\r\n\r\n// forces a fn function to wait certain amount of time before running again\r\nconst DEBOUNCE = (fn, ms) => {\r\n  let timeout;\r\n  return function (...args) {\r\n    const fnCall = () => { fn.apply(this, args); };\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(fnCall, ms);\r\n  };\r\n};\r\n// switch height of elem between a and b values\r\nconst elemHeightChanger = (elem, a, b) => {\r\n  const el = elem;\r\n  const result = (el.offsetHeight === b) ? el.style.height = `${a}px` : el.style.height = `${b}px`;\r\n\r\n  return result;\r\n};\r\n/* constructor function for simple custom slider\r\n methods next\\prev for switching between blocks\\images\r\n */\r\nconst CustomSlider = function (el, elLine, elItems) {\r\n  const slider = el;\r\n  const sliderItems = elItems;\r\n  const sliderLine = elLine;\r\n  let count = 0;\r\n  let sliderWidth = 0;\r\n\r\n  const rollSlider = () => { sliderLine.style.transform = `translate(-${count * sliderWidth}px)`; };\r\n  // recalculates width of sliderLine and sliderItems depends on slider width\r\n  const init = () => {\r\n    sliderWidth = slider.offsetWidth;\r\n    sliderLine.style.width = `${sliderWidth * sliderItems.length}px`;\r\n    sliderItems.forEach((item) => {\r\n      const slideritem = item;\r\n      slideritem.style.width = `${sliderWidth}px`;\r\n      slideritem.style.height = 'auto';\r\n    });\r\n    rollSlider();\r\n  };\r\n  window.addEventListener('resize', DEBOUNCE(init, 200));\r\n\r\n  const next = () => {\r\n    count += 1;\r\n    if (count >= sliderItems.length) {\r\n      count = 0;\r\n    }\r\n    rollSlider();\r\n  };\r\n\r\n  const prev = () => {\r\n    count -= 1;\r\n    if (count < 0) {\r\n      count = sliderItems.length - 1;\r\n    }\r\n    rollSlider();\r\n  };\r\n\r\n  init();\r\n  return {\r\n    next,\r\n    prev,\r\n  };\r\n};\r\n\r\nconst MYSLIDER = new CustomSlider(sl, sln, si);\r\n\r\nconst togglePopup = (elem) => {\r\n  const el = elem;\r\n  el.classList.toggle('visible-popup');\r\n};\r\nconst toggleLight = (el) => { el.classList.toggle('hidden'); };\r\nconst lightOnOpacity = (el) => { el.classList.toggle('low-opacity'); };\r\n\r\nconst bgAnimation = (el, box) => {\r\n  const animatedElem = el;\r\n  const elemParent = box;\r\n  // eslint-disable-next-line no-unused-expressions\r\n  (elemParent) && (window.innerWidth > 1031) && elemParent.addEventListener('mousemove', DEBOUNCE((e) => {\r\n    const offsetX = ((e.clientX / window.innerWidth) * 30) - 15;\r\n    const offsetY = ((e.clientY / window.innerHeight) * 10) - 5;\r\n    const bgMove = animatedElem.setAttribute('style', `background-position: ${offsetX}px ${offsetY}px;`);\r\n    return bgMove;\r\n  }, 10));\r\n};\r\nlet SKILLSLIDER = {};\r\n// eslint-disable-next-line consistent-return\r\nconst test = () => {\r\n  if (window.innerWidth > 1031) return false;\r\n  skilsPageSlider.classList.add('skills-page__slider');\r\n  skilsPageLine.classList.add('skills-page__slider-line');\r\n  skillsPageItems.forEach((elem) => { elem.classList.add('skills-page__slider-item'); });\r\n  SKILLSLIDER = new CustomSlider(skilsPageSlider, skilsPageLine, skillsPageItems);\r\n  return SKILLSLIDER;\r\n};\r\nconst clearLocalStorage = () => {\r\n  localStorage.clear();\r\n};\r\n// global event listener\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  test();\r\n  // eslint-disable-next-line consistent-return\r\n  document.addEventListener('click', () => {\r\n    const ROLE = event.target.dataset.role;\r\n    const { step } = event.target.dataset;\r\n    const wayTo = document.querySelector(`#${step}`);\r\n\r\n    if (!ROLE) return false;\r\n    event.preventDefault();\r\n    // eslint-disable-next-line default-case\r\n    switch (ROLE) {\r\n      case 'mobile-main-nav':\r\n        DEBOUNCE(elemHeightChanger(headerContent, 200, 50), 1000);\r\n        DEBOUNCE(togglePopup(navMenu), 1000);\r\n        break;\r\n\r\n      case 'light-switcher':\r\n        toggleLight(bgLight);\r\n        lightOnOpacity(introText);\r\n        break;\r\n      case 'link':\r\n        wayTo.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n        break;\r\n      case 'slider-next':\r\n        MYSLIDER.next();\r\n        break;\r\n      case 'slider-prev':\r\n        MYSLIDER.prev();\r\n        break;\r\n      case 'skills-slider-next':\r\n        // eslint-disable-next-line no-undef\r\n        SKILLSLIDER.next();\r\n        break;\r\n      case 'skills-slider-prev':\r\n        // eslint-disable-next-line no-undef\r\n        SKILLSLIDER.prev();\r\n        break;\r\n      case 'forgotName':\r\n        clearLocalStorage();\r\n        clearName(introPageText);\r\n        break;\r\n      case 'setName':\r\n        sendName(introPageText);\r\n        // textChanger(introPageText, buttonFlag);\r\n        break;\r\n    }\r\n  });\r\n\r\n  let prevScrollPosition = window.pageYOffset;\r\n  window.onscroll = DEBOUNCE(() => {\r\n    const currentScrollPosition = window.pageYOffset;\r\n    // const height = (el) => {\r\n    //   const result = (el.offsetHeight === 50) ? '50px' : '200px';\r\n    //   return result;\r\n    // };\r\n    const isMenuVisible = (el) => {\r\n      const menuStatus = (el.offsetHeight === 90)\r\n        ? (togglePopup(navMenu), elemHeightChanger(headerContent, 200, 50))\r\n        : false;\r\n      return menuStatus;\r\n    };\r\n    if (prevScrollPosition > currentScrollPosition) {\r\n      document.querySelector('.site-header').style.top = '0';\r\n      // document.querySelector('.navigation-mobile').style.top = '0';\r\n    } else {\r\n      isMenuVisible(navMenu);\r\n      document.querySelector('.site-header').style.top = '-50px';\r\n      // document.querySelector('.navigation-mobile').style.top = `-${height(navMenu)}`;\r\n    }\r\n    prevScrollPosition = currentScrollPosition;\r\n  }, 50);\r\n  document.addEventListener('scroll', DEBOUNCE(() => {\r\n    //\r\n    const aboutPage = document.querySelector('.about-page');\r\n\r\n    const aboutPageLol = aboutPage.getBoundingClientRect();\r\n\r\n    if (window.pageYOffset > aboutPageLol.top) {\r\n      bgLight.classList.add('hidden');\r\n      introText.classList.add('low-opacity');\r\n    } else if (window.pageYOffset < aboutPageLol.top) {\r\n      bgLight.classList.remove('hidden');\r\n      introText.classList.remove('low-opacity');\r\n    }\r\n  }, 50));\r\n  bgAnimation(bgLaptop, introPage);\r\n});\r\n"]}