{"version":3,"sources":["main.js"],"names":["userName","introPageText","document","querySelector","introPage","navMenu","bgLaptop","bgLight","introText","skilsPageSlider","skilsPageLine","skillsPageItems","querySelectorAll","headerContent","clearName","innerText","elem","getItem","localStorage","concat","nameValue","value","element","setItem","sendName","ms","timeout","_this","this","_len","arguments","length","args","Array","_key","DEBOUNCE","setTimeout","fn","apply","elemHeightChanger","a","b","el","offsetHeight","style","height","elLine","elItems","result","count","sliderWidth","slider","sliderItems","sliderLine","init","offsetWidth","width","forEach","item","slideritem","CustomSlider","rollSlider","window","addEventListener","next","transform","prev","sl","sln","si","togglePopup","classList","toggle","bgAnimation","box","innerWidth","e","offsetX","clientX","offsetY","clientY","innerHeight","animatedElem","setAttribute","SKILLSLIDER","test","MYSLIDER","add","toggleLight","lightOnOpacity","event","target","role","dataset","elemParent","step","bgMove","behavior","block","clearLocalStorage","ROLE","wayTo","preventDefault","prevScrollPosition","pageYOffset","onscroll","currentScrollPosition","top","aboutPageLol","getBoundingClientRect","remove"],"mappings":"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","file":"main.js","sourcesContent":["/* eslint-disable consistent-return */\r\n/* eslint-disable no-restricted-globals */\r\nconst introPageText = document.querySelector('.intro-page__text-greeting');\r\nconst introPage = document.querySelector('.intro-page');\r\nconst navMenu = document.querySelector('.navigation-mobile');\r\nconst bgLaptop = document.querySelector('.secondary-bg');\r\nconst bgLight = document.querySelector('.light-bg');\r\nconst introText = document.querySelector('.intro-page__text');\r\nconst skilsPageSlider = document.querySelector('.skills-page__content');\r\nconst skilsPageLine = document.querySelector('.skills-page__content-box');\r\nconst skillsPageItems = document.querySelectorAll('.skills-page__content-item');\r\nconst sl = document.querySelector('.slider');\r\nconst sln = document.querySelector('.slider-line');\r\nconst si = document.querySelectorAll('.slider-item');\r\nconst headerContent = document.querySelector('.site-header__content');\r\n\r\nconst clearName = (element) => {\r\n  const elem = element;\r\n  elem.innerText = 'Welcome';\r\n};\r\n// update greeting text onload\r\nif (localStorage.getItem('name') !== null) {\r\n  const userName = localStorage.getItem('name');\r\n  introPageText.innerText = `Welcome, ${userName}!`;\r\n}\r\n\r\nconst sendName = (elem) => {\r\n  const element = elem;\r\n  const nameValue = document.querySelector('.svelte-input-name').value;\r\n  element.innerText = `Welcome, ${nameValue}! Now reload page`;\r\n  localStorage.setItem('name', nameValue);\r\n};\r\n\r\n// forces a fn function to wait certain amount of time before running again\r\nconst DEBOUNCE = (fn, ms) => {\r\n  let timeout;\r\n  return function (...args) {\r\n    const fnCall = () => { fn.apply(this, args); };\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(fnCall, ms);\r\n  };\r\n};\r\n// switch height of elem between a and b values\r\nconst elemHeightChanger = (elem, a, b) => {\r\n  const el = elem;\r\n  const result = (el.offsetHeight === b) ? el.style.height = `${a}px` : el.style.height = `${b}px`;\r\n\r\n  return result;\r\n};\r\n/* constructor function for simple custom slider\r\n methods next\\prev for switching between blocks\\images\r\n */\r\nconst CustomSlider = function (el, elLine, elItems) {\r\n  const slider = el;\r\n  const sliderItems = elItems;\r\n  const sliderLine = elLine;\r\n  let count = 0;\r\n  let sliderWidth = 0;\r\n\r\n  const rollSlider = () => { sliderLine.style.transform = `translate(-${count * sliderWidth}px)`; };\r\n  // recalculates width of sliderLine and sliderItems depends on slider width\r\n  const init = () => {\r\n    sliderWidth = slider.offsetWidth;\r\n    sliderLine.style.width = `${sliderWidth * sliderItems.length}px`;\r\n    sliderItems.forEach((item) => {\r\n      const slideritem = item;\r\n      slideritem.style.width = `${sliderWidth}px`;\r\n      slideritem.style.height = 'auto';\r\n    });\r\n    rollSlider();\r\n  };\r\n  window.addEventListener('resize', DEBOUNCE(init, 200));\r\n\r\n  const next = () => {\r\n    count += 1;\r\n    if (count >= sliderItems.length) {\r\n      count = 0;\r\n    }\r\n    rollSlider();\r\n  };\r\n\r\n  const prev = () => {\r\n    count -= 1;\r\n    if (count < 0) {\r\n      count = sliderItems.length - 1;\r\n    }\r\n    rollSlider();\r\n  };\r\n\r\n  init();\r\n  return {\r\n    next,\r\n    prev,\r\n  };\r\n};\r\n\r\nconst MYSLIDER = new CustomSlider(sl, sln, si);\r\n\r\nconst togglePopup = (elem) => {\r\n  const el = elem;\r\n  el.classList.toggle('visible-popup');\r\n};\r\nconst toggleLight = (el) => { el.classList.toggle('hidden'); };\r\nconst lightOnOpacity = (el) => { el.classList.toggle('low-opacity'); };\r\n\r\nconst bgAnimation = (el, box) => {\r\n  const animatedElem = el;\r\n  const elemParent = box;\r\n  // eslint-disable-next-line no-unused-expressions\r\n  (elemParent) && (window.innerWidth > 1031) && elemParent.addEventListener('mousemove', DEBOUNCE((e) => {\r\n    const offsetX = ((e.clientX / window.innerWidth) * 30) - 15;\r\n    const offsetY = ((e.clientY / window.innerHeight) * 10) - 5;\r\n    const bgMove = animatedElem.setAttribute('style', `background-position: ${offsetX}px ${offsetY}px;`);\r\n    return bgMove;\r\n  }, 10));\r\n};\r\nlet SKILLSLIDER = {};\r\n// eslint-disable-next-line consistent-return\r\nconst test = () => {\r\n  if (window.innerWidth > 1031) return false;\r\n  skilsPageSlider.classList.add('skills-page__slider');\r\n  skilsPageLine.classList.add('skills-page__slider-line');\r\n  skillsPageItems.forEach((elem) => { elem.classList.add('skills-page__slider-item'); });\r\n  SKILLSLIDER = new CustomSlider(skilsPageSlider, skilsPageLine, skillsPageItems);\r\n  return SKILLSLIDER;\r\n};\r\nconst clearLocalStorage = () => {\r\n  localStorage.clear();\r\n};\r\n// global event listener\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  test();\r\n  // eslint-disable-next-line consistent-return\r\n  document.addEventListener('click', () => {\r\n    const ROLE = event.target.dataset.role;\r\n    const { step } = event.target.dataset;\r\n    const wayTo = document.querySelector(`#${step}`);\r\n\r\n    if (!ROLE) return false;\r\n    event.preventDefault();\r\n    // eslint-disable-next-line default-case\r\n    switch (ROLE) {\r\n      case 'mobile-main-nav':\r\n        DEBOUNCE(elemHeightChanger(headerContent, 200, 50), 1000);\r\n        DEBOUNCE(togglePopup(navMenu), 1000);\r\n        break;\r\n\r\n      case 'light-switcher':\r\n        toggleLight(bgLight);\r\n        lightOnOpacity(introText);\r\n        break;\r\n      case 'link':\r\n        wayTo.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n        break;\r\n      case 'slider-next':\r\n        MYSLIDER.next();\r\n        break;\r\n      case 'slider-prev':\r\n        MYSLIDER.prev();\r\n        break;\r\n      case 'skills-slider-next':\r\n        // eslint-disable-next-line no-undef\r\n        SKILLSLIDER.next();\r\n        break;\r\n      case 'skills-slider-prev':\r\n        // eslint-disable-next-line no-undef\r\n        SKILLSLIDER.prev();\r\n        break;\r\n      case 'forgotName':\r\n        clearLocalStorage();\r\n        clearName(introPageText);\r\n        break;\r\n      case 'setName':\r\n        sendName(introPageText);\r\n        // textChanger(introPageText, buttonFlag);\r\n        break;\r\n    }\r\n  });\r\n\r\n  let prevScrollPosition = window.pageYOffset;\r\n  window.onscroll = DEBOUNCE(() => {\r\n    const currentScrollPosition = window.pageYOffset;\r\n    // const height = (el) => {\r\n    //   const result = (el.offsetHeight === 50) ? '50px' : '200px';\r\n    //   return result;\r\n    // };\r\n    const isMenuVisible = (el) => {\r\n      const menuStatus = (el.offsetHeight === 90)\r\n        ? (togglePopup(navMenu), elemHeightChanger(headerContent, 200, 50))\r\n        : false;\r\n      return menuStatus;\r\n    };\r\n    if (prevScrollPosition > currentScrollPosition) {\r\n      document.querySelector('.site-header').style.top = '0';\r\n      // document.querySelector('.navigation-mobile').style.top = '0';\r\n    } else {\r\n      isMenuVisible(navMenu);\r\n      document.querySelector('.site-header').style.top = '-50px';\r\n      // document.querySelector('.navigation-mobile').style.top = `-${height(navMenu)}`;\r\n    }\r\n    prevScrollPosition = currentScrollPosition;\r\n  }, 50);\r\n  document.addEventListener('scroll', DEBOUNCE(() => {\r\n    //\r\n    const aboutPage = document.querySelector('.about-page');\r\n\r\n    const aboutPageLol = aboutPage.getBoundingClientRect();\r\n\r\n    if (window.pageYOffset > aboutPageLol.top) {\r\n      bgLight.classList.add('hidden');\r\n      introText.classList.add('low-opacity');\r\n    } else if (window.pageYOffset < aboutPageLol.top) {\r\n      bgLight.classList.remove('hidden');\r\n      introText.classList.remove('low-opacity');\r\n    }\r\n  }, 50));\r\n  bgAnimation(bgLaptop, introPage);\r\n});\r\n"]}